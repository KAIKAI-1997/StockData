
1. 数据库采用Mysql， 端口3060
账号root 密码admin
2. c++ 服务器， 端口3070
3. 中台nodejs服务器，前方http接口，后方TCP连接c++服务器

先开c++服务器，再开node 服务器

当前端接到请求的股票数据，向api
日k线
https://web.ifzq.gtimg.cn/appstock/app/fqkline/get?param=sh[股票代码],day,[开始日期],[结束日期 yyyy-m-d],[条数],qfq

分钟k线
https://ifzq.gtimg.cn/appstock/app/kline/mkline?param=[sh+股票代码],[m1, m5, m15, m30, m60],[],[int取回数目]&_var=[日期 yyyy-m-d]

分时线
https://web.ifzq.gtimg.cn/appstock/app/minute/query?code=[sh+股票代码]
请求数据

得到数据格式
"202203111400",//日期
"1730.11",//结束价
"1752.00",//开始价
"1756.82",//最高价
"1718.08",//最低价
"10677.85",//
{},
"8.5001"//换手率

前端API
1.分钟k
localhost/:mtype(m1|m15|m30|m60)/:index?number=xxx&date=YYYY-MM-DD
例：http://192.168.2.212:3080/m15/600519?number=300&date=2022-3-8
？后parameter可以不传
number默认30
date默认今天

2.k线
localhost/:daytype(day1|day7|day30|day365)/:index?startday=YYYY-MM-DD&endday=YYYY-MM-DD&number=30
例：http://192.168.2.212:3080/day1/600519?endday=2022-03-09&number=30
？后parameter可以不传
number默认60
startday为空
endday默认今天
开始日期和结束日期为同一天时无返回数据W

1. 分时数据
http://192.168.2.212:3080/min/:index
例：http://192.168.2.212:3080/min/600519

得到数据后一边将数据返回给前端，另一边传入c++服务器存入数据库

交互json格式
{
    "code":200|503,
    "data":{
        "points":[...],
        "details":{
            "index":"321654",
            "type":"m1|m5|m15|m30|m60",
            "market":"xxxx",
            "others":"xxx"(
                1	代表交易所，200-美股（us），100-港股（hk），51-深圳（sz），1-上海（sh）
                2	贵州茅台	股票名字
                3	600519	股票代码
                4	2076.91	当前价格
                5	2033.00	昨收
                6	2000.00	开盘
                7	39811	成交量
                8	20166	外盘
                9	19646	内盘
                10	2076.03	买一
                11	8	买一量
                12	2076.02	买二
                13	6	买二量
                14	2076.01	买三
                15	2	买三量
                16	2076.00	买四
                17	7	买四量
                18	2075.90	买五
                19	2	买五量
                20	2076.05	卖一
                21	3	卖一量
                22	2076.82	卖二
                23	1	卖二量
                24	2076.91	卖三
                25	1	买三量
                26	2076.97	卖四
                27	1	卖四量
                28	0	卖五
                29	0	卖五量
                30	20210305110527	请求时间
                31	43.91	涨跌
                32	2.16	涨跌%
                33	2088.00	最高
                34	1988.00	最低
                35	2076.91/39811/8132289410	最新价/成交量（手）/成交额（元）
                36	39811	成交量
                37	813229	成交额
                38	0.32	换手率
                39	58.53	ttm市盈率
                40	-	-
                41	2088.00	最高
                42	1988.00	最低
                43	4.92	振幅
                44	26090.10	流通市值
                45	26090.10	总市值
                46	17.57	lf市净率
                47	2236.30	涨停价
                48	1829.70	跌停价
                49	1.65	量比
                50	9	-
                51	2042.72	均价
                52	57.85	动态市盈率
                53	63.32	静态市盈率
                54	-	-
                55	-	-
                56	1.09	-
                57	813228.9410	成交额
                58	0.0000	
                59	0	
                60	-	
                61	GP-A	
                62	3.95	
                63	-	
                64	0.82	
                65	30.03	

                ————————————————
                版权声明：本文为CSDN博主「小山研磨代码」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
                原文链接：https://blog.csdn.net/geofferysun/article/details/114386084
                )
            }
    },
    "msg":""
}

